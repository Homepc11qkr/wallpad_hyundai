esphome:
  name: 485-esp32-ip84
  friendly_name: esp32_ttlto485_esp32dev_ip84
  on_boot:
    priority: -100  # 부팅 완료 후 가장 마지막 단계에서 실행 (우선순위 낮게 설정)
    then:
      - if:
          condition:
            lambda: 'return id(homeassistant_time).now().is_valid();'  # Home Assistant 시간이 동기화되었는지 확인
          then:
            - text_sensor.template.publish:
                id: boot_time
                state: !lambda |-
                  char str[20];
                  time_t now = id(homeassistant_time).now().timestamp;  // 현재 시간을 Unix timestamp로 가져옴
                  strftime(str, sizeof(str), "%Y-%m-%d %H:%M:%S", localtime(&now));  // YYYY-MM-DD HH:MM:SS 형식으로 변환
                  return std::string(str);  // 변환된 시간을 문자열로 반환하여 저장
esp32:
  board: esp32dev
  framework:
    type: arduino


  
logger:
  level: DEBUG # INFO # DEBUG # INFO # 
  # baud_rate: 0

api:
  encryption:
    key: "E3dQjBDVcHgT9tik/ZvMKA4SCQxJpvzdqL6vlEkYIL8="

ota:
  - platform: esphome
    password: "819209b3b989fed0ed569ff464d7c333"

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password
  power_save_mode: NONE  
  # reboot_timeout: 5min  # WiFi 연결 실패 시 재부팅 시간 연장
  manual_ip:
    static_ip: 192.168.0.84
    gateway: 192.168.0.1
    subnet: 255.255.255.0
  ap:
    ssid: "Esp32-Ttl Fallback Hotspot"
    password: "Nc3LMqmO1hOF"

captive_portal:

debug:
  update_interval: 5s

# ========================= 485 wallpad connection ========================== 
# ========================= 485 wallpad connection ========================== 
# ========================= 485 wallpad connection ========================== 
#  github 정보 > external_components > 485 연결에 현대통신 월패드 스위치 보일러 센서 구성입니다
    # https://cafe.naver.com/homestation/222
    # https://github.com/eigger/espcomponents/tree/master/packages/wallpad
    # https://github.com/Homepc11qkr/wallpad_hyundai/upload/main

external_components:
  - source: github://eigger/espcomponents/relreases/latest
    components: [ uartex ]
    refresh: always  


uart:
  id: uart_0
  tx_pin: GPIO17
  rx_pin: GPIO16
  baud_rate: 9600
  stop_bits: 1
  parity: NONE
  data_bits: 8


uartex:
  rx_timeout: 10ms
  tx_delay: 50ms
  tx_timeout: 500ms
  tx_retry_cnt: 3
  rx_header: [0xf7]
  rx_footer: [0xee]
  tx_header: [0xf7]
  tx_footer: [0xee]
  rx_checksum: xor
  tx_checksum: xor
  version:
    disabled: False
  error:
    disabled: False
  log:
    disabled: False

 
# web_server:
#   port: 80
#   version: 2
#   include_internal: true
  

# mqtt:
#   broker: 192.168.0.35
#   username: mqtt_user
#   password: mqtt_pass  
#   discovery: false
# Home Assistant의 시간 정보를 사용

time:
  - platform: homeassistant
    id: homeassistant_time

binary_sensor:
  - platform: status
    name: "Connection Status"

# text_sensor:
# 부팅 시간을 저장하는 텍스트 센서
text_sensor:
  - platform: template
    name: "부팅 시간"
    id: boot_time
    update_interval: never  # 상태 변경 시에만 업데이트

  - platform: version
    name: "Version"
# ===========================
  - platform: homeassistant
    id: wifi_signal_percent2
    entity_id: sensor.esp32_485_wifi_signal_percent
    internal: true         
# text_sensor: # esp32 information
  - platform: debug
    device:
      name: "Device Info"
    reset_reason:
      name: "Reset Reason"
# ===========================
# text_sensor:
  - platform: wifi_info
    ip_address:
      name: "IP Address"
      id: ip
    ssid:
      name: "SSID"
    mac_address:
      name: "Mac" 
# =================     
# text_sensor:
  # Heap Memory 상태 (남은 메모리 / 총 메모리)
  - platform: template
    name: "1_Heap Memory Status"
    lambda: |-
      float total_heap = 327680.0;  // 총 힙 메모리 크기 (327680 bytes)
      float free_heap = ESP.getFreeHeap();  // 남은 힙 메모리
      char status[50];
      sprintf(status, "%.0f B / %.0f B", free_heap, total_heap);  // 남은 메모리 / 총 메모리 포맷
      return {status};  // 문자열 반환
    update_interval: 10s  # 10초마다 업데이트

# sensor:
sensor:

  # RAM 사용량 (%)
  - platform: template
    name: "1_RAM Usage (%)"
    lambda: |-
      float total_ram = 327680.0;  // 총 RAM 용량 (327680 bytes)
      float used_ram = total_ram - ESP.getFreeHeap();  // 사용된 RAM 계산
      return (used_ram / total_ram) * 100.0;  // RAM 사용률 계산 (퍼센트)
    unit_of_measurement: "%"
    accuracy_decimals: 1

  # 남은 RAM 메모리 (바이트 단위)
  - platform: template
    name: "1_Free RAM Memory"
    lambda: |-
      return ESP.getFreeHeap();  // 남은 힙 메모리 반환
    unit_of_measurement: "B"
    accuracy_decimals: 0

  # - platform: uptime
  #   name: 1_Uptime _Sensor
  #   update_interval: 1s       
 
  - platform: wifi_signal # Reports the WiFi signal strength/RSSI in dB
    name: "WiFi_Signal_dB"
    id: wifi_signal_db
    update_interval: 30s
    entity_category: "diagnostic"

  - platform: copy # Reports the WiFi signal strength in %
    source_id: wifi_signal_db
    name: "WiFi Signal Percent"
    filters:
      - lambda: return min(max(2 * (x + 100.0), 0.0), 100.0);
    unit_of_measurement: "Signal %"
    entity_category: "diagnostic"
    device_class: ""
# sensor:
# sensor:
  - platform: homeassistant
    id: temp_boiler_living_room
    entity_id: climate.485_esp32_ip84_boiler_living_room
    attribute: current_temperature
    name: "temp_boiler_living_room"
    unit_of_measurement: "°C"
    accuracy_decimals: 0
    internal: false  # Home Assistant에서 사용 가능하도록 설정
    
  - platform: homeassistant
    id: temp_boiler_big_room
    entity_id: climate.485_esp32_ip84_boiler_big_room
    attribute: current_temperature
    name: "temp_boiler_big_room"
    unit_of_measurement: "°C"
    accuracy_decimals: 0
    internal: false  # Home Assistant에서 사용 가능하도록 설정

  - platform: homeassistant
    id: temp_boiler_small_room
    entity_id: climate.485_esp32_ip84_boiler_small_room
    attribute: current_temperature
    name: "temp_boiler_small_room"
    unit_of_measurement: "°C"
    accuracy_decimals: 0
    internal: false  # Home Assistant에서 사용 가능하도록 설정
    
  - platform: homeassistant
    id: temp_boiler_book_room
    entity_id: climate.485_esp32_ip84_boiler_book_room
    attribute: current_temperature
    name: "temp_boiler_book_room"
    unit_of_measurement: "°C"
    accuracy_decimals: 0
    internal: false  # Home Assistant에서 사용 가능하도록 설정

#--------------------------------------------------------------------------
light:
# -------------------------------------------------------------------------
# 거실1 전등
# 켜기 요청 F7 0B 01 19 02 40 11 01 00 B6 EE
# 켜기 응답 F7 0B 01 19 04 40 11 01 01 B1 EE
# 끄기 요청 F7 0B 01 19 02 40 11 02 00 B5 EE
# 끄기 응답 F7 0B 01 19 04 40 11 02 02 B1 EE
  - platform: uartex
    name: "Light_living_room" # 거실불
    id: living_room_a

    state: 
      data: [0x00, 0x01, 0x19, 0x04, 0x40, 0x11]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]

    state_on:
      offset: 7
      data: [0x01]

    state_off:
      offset: 7
      data: [0x02]

    command_on:
      data: [0x0b, 0x01, 0x19, 0x02, 0x40, 0x11, 0x01, 0x00]
      ack:  [0x0b, 0x01, 0x19, 0x04, 0x40, 0x11, 0x01, 0x01] 

    command_off:
      data: [0x0b, 0x01, 0x19, 0x02, 0x40, 0x11, 0x02, 0x00]
      ack:  [0x0b, 0x01, 0x19, 0x04, 0x40, 0x11, 0x02, 0x02]

# -------------------------------------------------------------------------
  - platform: uartex
    name: "Light_living_room2" # 거실불2
    id: livingroom2_a

    state: 
      data: [0x00, 0x01, 0x19, 0x04, 0x40, 0x12]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]

    state_on:
      offset: 7
      data: [0x01]

    state_off:
      offset: 7
      data: [0x02]

    command_on:
      data: [0x0b, 0x01, 0x19, 0x02, 0x40, 0x12, 0x01, 0x00]
      ack:  [0x0b, 0x01, 0x19, 0x04, 0x40, 0x12, 0x01, 0x01]

    command_off:
      data: [0x0b, 0x01, 0x19, 0x02, 0x40, 0x12, 0x02, 0x00]
      ack:  [0x0b, 0x01, 0x19, 0x04, 0x40, 0x12, 0x02, 0x02]

# -------------------------------------------------------------------------
  - platform: uartex
    name: "Light_sofa" # 소파불
    id: living_room_sofa_a

    state: 
      data: [0x00, 0x01, 0x19, 0x04, 0x40, 0x13]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]

    state_on:
      offset: 7
      data: [0x01]
      
    state_off:
      offset: 7
      data: [0x02]

    command_on:
      data: [0x0b, 0x01, 0x19, 0x02, 0x40, 0x13, 0x01, 0x00]
      ack:  [0x0b, 0x01, 0x19, 0x04, 0x40, 0x13, 0x01, 0x01]
    command_off:
      data: [0x0b, 0x01, 0x19, 0x02, 0x40, 0x13, 0x02, 0x00]
      ack:  [0x0b, 0x01, 0x19, 0x04, 0x40, 0x13, 0x02, 0x02]

# -------------------------------------------------------------------------
  - platform: uartex
    name: "Light_front" # 앞불
    id: living_room_front_a

    state: 
      data: [0x00, 0x01, 0x19, 0x04, 0x40, 0x14]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]

    state_on:
      offset: 7
      data: [0x01]
      
    state_off:
      offset: 7
      data: [0x02]

    command_on:
      data: [0x0b, 0x01, 0x19, 0x02, 0x40, 0x14, 0x01, 0x00]
      ack:  [0x0b, 0x01, 0x19, 0x04, 0x40, 0x14, 0x01, 0x01]

    command_off:
      data: [0x0b, 0x01, 0x19, 0x02, 0x40, 0x14, 0x02, 0x00]
      ack:  [0x0b, 0x01, 0x19, 0x04, 0x40, 0x14, 0x02, 0x02]

# -------------------------------------------------------------------------
  - platform: uartex
    name: "Light_bogdo" # 복도불
    id: living_room_bogdo_a

    state: 
      data: [0x00, 0x01, 0x19, 0x04, 0x40, 0x15]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]

    state_on:
      offset: 7
      data: [0x01]
      
    state_off:
      offset: 7
      data: [0x02]

    command_on:
      data: [0x0b, 0x01, 0x19, 0x02, 0x40, 0x15, 0x01, 0x00]
      ack: [0x0b, 0x01, 0x19, 0x04, 0x40, 0x15, 0x01, 0x01]

    command_off:
      data: [0x0b, 0x01, 0x19, 0x02, 0x40, 0x15, 0x02, 0x00]
      ack: [0x0b, 0x01, 0x19, 0x04, 0x40, 0x15, 0x02, 0x02]

# ===================== RS485 Climate  ====================================
climate:

# ---------  보일러 -------------
# 거실 보일러
# 켜기 요청 F7 0B 01 18 02 46 11 01 00 B1 EE
# 켜기 응답 F7 0D 01 18 04 46 11 01 01 17 15 B2 EE
# 끄기 요청 F7 0B 01 18 02 46 11 04 00 B4 EE
# 끄기 응답 F7 0D 01 18 04 46 11 04 04 17 15 B2 EE
# 7도  요청 F7 0B 01 18 02 45 11 07 00 B4 EE
# 7도  응답 F7 0E 01 00 00 00 10 01 02 00 60 E9 FF
# --------------- climate: ------------------------------------------

  - platform: uartex
    name: "Boiler_living_room"
    id: Boiler_living_room
    visual:
      min_temperature: 5 °C
      max_temperature: 40 °C
      temperature_step: 1 °C
    state: 
      data: [0x00, 0x01, 0x18, 0x04, 0x46, 0x11]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]

    state_temperature_current: #Required (현재온도 State, RS485 Sensor 설정 참고, sensor:로 대체 가능)
      offset: 8
      length: 1
      precision: 0

    state_temperature_target: #Required (설정온도 State)
      offset: 9
      length: 1
      precision: 0

    state_off: #Required (끄기 상태)
      offset: 7
      data: [0x04]

    state_heat: #Option (난방모드, 냉방모드: state_cool, 자동모드: state_auto)
      offset: 7
      data: [0x01]

    state_preset_away: #Option (외출모드)
      offset: 7
      data: [0x07]

    state_preset_none:
      offset: 7
      data: [0x07]
      inverted: True

    command_off: #Required (끄기 명령)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x11, 0x04, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x11, 0x04, 0x04]

    command_heat: #Option (난방모드 켜기)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x11, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x11, 0x01, 0x01]

    command_preset_away: #Option (외출 켜기)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x11, 0x07, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x11, 0x07, 0x07]

    command_preset_none: #Option (외출 끄기, 난방)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x11, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x11, 0x01, 0x01]

    command_temperature: !lambda |-  #Required (온도 조절)
      // @param: const float x
      return {
                {0x0B, 0x01, 0x18, 0x02, 0x45, 0x11, (uint8_t)x, 0x00},
                {0x0D, 0x01, 0x18, 0x04, 0x45, 0x11, (uint8_t)x, 0x01}
              };
# --------------- climate: ------------------------------------------

  - platform: uartex
    name: "Boiler_big_room"
    visual:
      min_temperature: 5 °C
      max_temperature: 40 °C
      temperature_step: 1 °C
    state: 
      data: [0x00, 0x01, 0x18, 0x04, 0x46, 0x12]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]
    state_temperature_current: #Required (현재온도 State, RS485 Sensor 설정 참고, sensor:로 대체 가능)
      offset: 8
      length: 1
      precision: 0
    state_temperature_target: #Required (설정온도 State)
      offset: 9
      length: 1
      precision: 0
    state_off: #Required (끄기 상태)
      offset: 7
      data: [0x04]
    state_heat: #Option (난방모드, 냉방모드: state_cool, 자동모드: state_auto)
      offset: 7
      data: [0x01]
    state_preset_away: #Option (외출모드)
      offset: 7
      data: [0x07]
    state_preset_none:
      offset: 7
      data: [0x07]
      inverted: True
    command_off: #Required (끄기 명령)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x12, 0x04, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x12, 0x04, 0x04]
    command_heat: #Option (난방모드 켜기)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x12, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x12, 0x01, 0x01]
    command_preset_away: #Option (외출 켜기)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x12, 0x07, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x12, 0x07, 0x07]
    command_preset_none: #Option (외출 끄기, 난방)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x12, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x12, 0x01, 0x01]
    command_temperature: !lambda |-  #Required (온도 조절)
      // @param: const float x
      return {
                {0x0B, 0x01, 0x18, 0x02, 0x45, 0x12, (uint8_t)x, 0x00},
                {0x0D, 0x01, 0x18, 0x04, 0x45, 0x12, (uint8_t)x, 0x01}
              };
# --------------- climate: ------------------------------------------

  - platform: uartex
    name: "Boiler_small_room"
    visual:
      min_temperature: 5 °C
      max_temperature: 40 °C
      temperature_step: 1 °C
    state: 
      data: [0x00, 0x01, 0x18, 0x04, 0x46, 0x13]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]
    state_temperature_current: #Required (현재온도 State, RS485 Sensor 설정 참고, sensor:로 대체 가능)
      offset: 8
      length: 1
      precision: 0
    state_temperature_target: #Required (설정온도 State)
      offset: 9
      length: 1
      precision: 0
    state_off: #Required (끄기 상태)
      offset: 7
      data: [0x04]
    state_heat: #Option (난방모드, 냉방모드: state_cool, 자동모드: state_auto)
      offset: 7
      data: [0x01]
    state_preset_away: #Option (외출모드)
      offset: 7
      data: [0x07]
    state_preset_none:
      offset: 7
      data: [0x07]
      inverted: True
    command_off: #Required (끄기 명령)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x13, 0x04, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x13, 0x04, 0x04]
    command_heat: #Option (난방모드 켜기)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x13, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x13, 0x01, 0x01]
    command_preset_away: #Option (외출 켜기)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x13, 0x07, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x13, 0x07, 0x07]
    command_preset_none: #Option (외출 끄기, 난방)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x13, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x13, 0x01, 0x01]
    command_temperature: !lambda |-  #Required (온도 조절)
      // @param: const float x
      return {
                {0x0B, 0x01, 0x18, 0x02, 0x45, 0x13, (uint8_t)x, 0x00},
                {0x0D, 0x01, 0x18, 0x04, 0x45, 0x13, (uint8_t)x, 0x01}
              };
# --------------- climate: ------------------------------------------

  - platform: uartex
    name: "Boiler_book_room"
    visual:
      min_temperature: 5 °C
      max_temperature: 40 °C
      temperature_step: 1 °C
    state: 
      data: [0x00, 0x01, 0x18, 0x04, 0x46, 0x14]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]
    state_temperature_current: #Required (현재온도 State, RS485 Sensor 설정 참고, sensor:로 대체 가능)
      offset: 8
      length: 1
      precision: 0
    state_temperature_target: #Required (설정온도 State)
      offset: 9
      length: 1
      precision: 0
    state_off: #Required (끄기 상태)
      offset: 7
      data: [0x04]
    state_heat: #Option (난방모드, 냉방모드: state_cool, 자동모드: state_auto)
      offset: 7
      data: [0x01]
    state_preset_away: #Option (외출모드)
      offset: 7
      data: [0x07]
    state_preset_none:
      offset: 7
      data: [0x07]
      inverted: True
    command_off: #Required (끄기 명령)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x14, 0x04, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x14, 0x04, 0x04]
    command_heat: #Option (난방모드 켜기)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x14, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x14, 0x01, 0x01]
    command_preset_away: #Option (외출 켜기)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x14, 0x07, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x14, 0x07, 0x07]
    command_preset_none: #Option (외출 끄기, 난방)
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x14, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x14, 0x01, 0x01]
    command_temperature: !lambda |-  #Required (온도 조절)
      // @param: const float x
      return {
                {0x0B, 0x01, 0x18, 0x02, 0x45, 0x14, (uint8_t)x, 0x00},
                {0x0D, 0x01, 0x18, 0x04, 0x45, 0x14, (uint8_t)x, 0x01}
              };
# --------------- climate: ------------------------------------------              
#--------------------------------------------------------------------------
# switch:
switch:
  - platform: restart
    id: Restart_Node_id
    name: "Restart Node"
    restore_mode: ALWAYS_OFF  # 부팅 시 항상 OFF 상태로 유지
# ===============================================================================================
  - platform: uartex
    name: "Boiler_living_room_sw" # 거실불
    id: Boiler_living_room_sw
    state: 
      data: [0x00, 0x01, 0x18, 0x04, 0x46, 0x11]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]
    state_on:
      offset: 7
      data: [0x01]
    state_off:
      offset: 7
      data: [0x04]
    command_on:
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x11, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x11, 0x01, 0x01]
    command_off:
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x11, 0x04, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x11, 0x04, 0x04]
# ===============================================================================================
# ===============================================================================================
  - platform: uartex
    name: "Boiler_big_room_sw" # 안방불
    id: Boiler_big_room_sw
    state: 
      data: [0x00, 0x01, 0x18, 0x04, 0x46, 0x12]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]
    state_on:
      offset: 7
      data: [0x01]
    state_off:
      offset: 7
      data: [0x04]
    command_on:
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x12, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x12, 0x01, 0x01]
    command_off:
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x12, 0x04, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x12, 0x04, 0x04]
# ===============================================================================================
# ===============================================================================================
  - platform: uartex
    name: "Boiler_small_room_sw" # 작은방불
    id: Boiler_small_room_sw
    state: 
      data: [0x00, 0x01, 0x18, 0x04, 0x46, 0x13]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]
    state_on:
      offset: 7
      data: [0x01]
    state_off:
      offset: 7
      data: [0x04]
    command_on:
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x13, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x14, 0x01, 0x01]
    command_off:
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x13, 0x04, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x13, 0x04, 0x04]
# ===============================================================================================

# ===============================================================================================
  - platform: uartex
    name: "Boiler_book_room_sw" # 복도불
    id: Boiler_book_room_sw
    state: 
      data: [0x00, 0x01, 0x18, 0x04, 0x46, 0x14]
      mask: [0x00, 0xff, 0xff, 0xff, 0xff, 0xff]
    state_on:
      offset: 7
      data: [0x01]
    state_off:
      offset: 7
      data: [0x04]
    command_on:
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x14, 0x01, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x14, 0x01, 0x01]
    command_off:
      data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x14, 0x04, 0x00]
      ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x14, 0x04, 0x04]
# ===============================================================================================

# 보일러  climate 스위치 구성으로  All switch 구성 준비
# =====================================switch==========================================================
# ===============================================================================================
button:
  - platform: template
    name: "All_Boiler_on_sw"
    on_press:
      then:
        - switch.turn_on: Boiler_living_room_sw
        - delay: 1s
        - switch.turn_on: Boiler_big_room_sw
        - delay: 1s
        - switch.turn_on: Boiler_small_room_sw
        - delay: 1s
        - switch.turn_on: Boiler_book_room_sw
        - delay: 1s
        - switch.turn_on: Boiler_living_room_sw
        - delay: 1s
        - switch.turn_on: Boiler_big_room_sw
        - delay: 1s
        - switch.turn_on: Boiler_small_room_sw
        - delay: 1s
        - switch.turn_on: Boiler_book_room_sw
        - delay: 1s

  - platform: template
    name: "All_Boiler_off_sw"
    on_press:
      then:
        - switch.turn_off: Boiler_living_room_sw
        - delay: 1s
        - switch.turn_off: Boiler_big_room_sw
        - delay: 1s
        - switch.turn_off: Boiler_small_room_sw
        - delay: 1s
        - switch.turn_off: Boiler_book_room_sw
        - delay: 1s
        - switch.turn_off: Boiler_living_room_sw
        - delay: 1s
        - switch.turn_off: Boiler_big_room_sw
        - delay: 1s
        - switch.turn_off: Boiler_small_room_sw
        - delay: 1s
        - switch.turn_off: Boiler_book_room_sw
        - delay: 1s

  - platform: template
    name: "All_Light_on_sw"
    on_press:
      then:
        - light.turn_on: living_room_a
        - delay: 1s
        - light.turn_on: livingroom2_a
        - delay: 1s
        - light.turn_on: living_room_sofa_a
        - delay: 1s
        - light.turn_on: living_room_front_a
        - delay: 1s
        - light.turn_on: living_room_bogdo_a
        - delay: 1s
        - light.turn_on: living_room_a
        - delay: 1s
        - light.turn_on: livingroom2_a
        - delay: 1s
        - light.turn_on: living_room_sofa_a
        - delay: 1s
        - light.turn_on: living_room_front_a
        - delay: 1s
        - light.turn_on: living_room_bogdo_a
        - delay: 1s
  - platform: template
    name: "All_Light_off_sw"
    on_press:
      then:
        - light.turn_off: living_room_a
        - delay: 1s
        - light.turn_off: livingroom2_a
        - delay: 1s
        - light.turn_off: living_room_sofa_a
        - delay: 1s
        - light.turn_off: living_room_front_a
        - delay: 1s
        - light.turn_off: living_room_bogdo_a
        - delay: 1s
        - light.turn_off: living_room_a
        - delay: 1s
        - light.turn_off: livingroom2_a
        - delay: 1s
        - light.turn_off: living_room_sofa_a
        - delay: 1s
        - light.turn_off: living_room_front_a
        - delay: 1s
        - light.turn_off: living_room_bogdo_a
        - delay: 1s
# ======================================================================
    # command_heat: #Option (난방모드 켜기)
    #   data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x11, 0x01, 0x00]
    #   ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x11, 0x01, 0x01]
# ===========button:=========================================================== 
  - platform: template
    name: "All_Boiler_on_uartex"
    on_press:
      then:
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x11, 0x01, 0x00]  # 거실 보일러 On
            ack:  [0x0b, 0x01, 0x18, 0x04, 0x46, 0x11, 0x01, 0x01]  # 거실 보일러 On
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x12, 0x01, 0x00]  # 큰방 보일러 On
            ack:  [0x0b, 0x01, 0x18, 0x04, 0x46, 0x12, 0x01, 0x01]  # 큰방 보일러 On

        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x13, 0x01, 0x00]  # 작은방 보일러 On
            ack:  [0x0b, 0x01, 0x18, 0x04, 0x46, 0x13, 0x01, 0x01]  # 작은방 보일러 On

        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x14, 0x01, 0x00]  # 서재방 보일러 On
            ack:  [0x0b, 0x01, 0x18, 0x04, 0x46, 0x14, 0x01, 0x01]  # 서재방 보일러 On
            #  한번더 명령을 2회실행하면 빠지는부분 해결 --------------------------------
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x11, 0x01, 0x00]  # 거실 보일러 On
            ack:  [0x0b, 0x01, 0x18, 0x04, 0x46, 0x11, 0x01, 0x01]  # 거실 보일러 On
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x12, 0x01, 0x00]  # 큰방 보일러 On
            ack:  [0x0b, 0x01, 0x18, 0x04, 0x46, 0x12, 0x01, 0x01]  # 큰방 보일러 On
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x13, 0x01, 0x00]  # 작은방 보일러 On
            ack:  [0x0b, 0x01, 0x18, 0x04, 0x46, 0x13, 0x01, 0x01]  # 작은방 보일러 On

        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x14, 0x01, 0x00]  # 서재방 보일러 On
            ack:  [0x0b, 0x01, 0x18, 0x04, 0x46, 0x14, 0x01, 0x01]  # 서재방 보일러 On
# 모든 보일러 OFF 모드 설정 스위치
# 보일러를 꺼야 하는 경우에는 climate.control의 IDLE 모드 대신 RS485 패킷을 직접 보내는 방식이 더 적합합니다.
# 아래는 모든 보일러를 OFF 상태로 설정하는 구성을 제공해 드립니다.
# ===========button:===========================================================
# command_off: #Required (끄기 명령)
#   data: [0x0B, 0x01, 0x18, 0x02, 0x46, 0x11, 0x04, 0x00]
#   ack: [0x0D, 0x01, 0x18, 0x04, 0x46, 0x11, 0x04, 0x04]
  - platform: template
    name: "All_Boiler_off_uartex"
    on_press:
      then:
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x11, 0x04, 0x00]  # 거실 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x46, 0x11, 0x04, 0x04]   
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x12, 0x04, 0x00]  # 큰방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x46, 0x12, 0x04, 0x04]   

        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x13, 0x04, 0x00]  # 작은방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x46, 0x13, 0x04, 0x04]   

        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x14, 0x04, 0x00]  # 서재방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x46, 0x14, 0x04, 0x04]   
            #  한번더 명령을 2회실행하면 빠지는부분 해결 --------------------------------
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x11, 0x04, 0x00]  # 거실 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x46, 0x11, 0x04, 0x04]   
            
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x12, 0x04, 0x00]  # 큰방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x46, 0x12, 0x04, 0x04]   

        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x13, 0x04, 0x00]  # 작은방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x46, 0x13, 0x04, 0x04]   

        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x46, 0x14, 0x04, 0x00]  # 서재방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x46, 0x14, 0x04, 0x04]           
# ===========button:===========================================================
# 거실보일러	off요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x46,	0x11,	0x04,	0x00,	0xB4,	0xEE,	 	 
# 거실보일러	off응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x46,	0x11,	0x04,	0x04,	0x14,	0x16,	0xB2,	0xEE,
# 거실보일러	7	요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x45,	0x11,	0x07,	0x00,	0xB4,	0xEE,	 	 
# 거실보일러	7	응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x45,	0x11,	0x07,	0x01,	0x14,	0x7,	0xA6,	0xEE,
# 거실보일러	8	요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x45,	0x11,	0x08,	0x00,	0xBB,	0xEE,	 	 
# 거실보일러	8	응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x45,	0x11,	0x08,	0x01,	0x14,	0x8,	0xA6,	0xEE,
# ===========button:===========================================================
# 보일러 온도설정
# --------------------------------  
# button:
# button:
  - platform: template
    name: "8_°C_All_Setting"
    on_press:
      then:
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x08, 0x00]  # 거실 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x08, 0x01]   
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x08, 0x00]  # 안방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x08, 0x01]   

        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x08, 0x00]  # 작은방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x08, 0x01]   
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x08, 0x00]  # 서재방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x08, 0x01]    
            #  한번더 명령을 2회실행하면 빠지는부분 해결 --------------------------------
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x08, 0x00]  # 거실 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x08, 0x01]   
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x08, 0x00]  # 안방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x08, 0x01]   

        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x08, 0x00]  # 작은방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x08, 0x01]   
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x08, 0x00]  # 서재방 보일러 OFF
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x08, 0x01]        
  # ===========button:===========================================================
  # 20°C~25°C 보일러 설정 버튼
  - platform: template
    name: "20_°C_All_Setting"
    on_press:
      then:
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x14, 0x00]  # 거실 보일러 20°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x14, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x14, 0x00]  # 안방 보일러 20°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x14, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x14, 0x00]  # 작은방 보일러 20°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x14, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x14, 0x00]  # 서재방 보일러 20°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x14, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x14, 0x00]  # 거실 보일러 20°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x14, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x14, 0x00]  # 안방 보일러 20°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x14, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x14, 0x00]  # 작은방 보일러 20°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x14, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x14, 0x00]  # 서재방 보일러 20°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x14, 0x01]
        - delay: 1s        
  # 20°C~25°C 보일러 설정 버튼
  - platform: template
    name: "21_°C_All_Setting"
    on_press:
      then:
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x15, 0x00]  # 거실 보일러 21°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x15, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x15, 0x00]  # 안방 보일러 21°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x15, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x15, 0x00]  # 작은방 보일러 21°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x15, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x15, 0x00]  # 서재방 보일러 21°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x15, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x15, 0x00]  # 거실 보일러 21°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x15, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x15, 0x00]  # 안방 보일러 21°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x15, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x15, 0x00]  # 작은방 보일러 21°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x15, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x15, 0x00]  # 서재방 보일러 21°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x15, 0x01]
        - delay: 1s        
  # 20°C~25°C 보일러 설정 버튼
  - platform: template
    name: "22_°C_All_Setting"
    on_press:
      then:
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x16, 0x00]  # 거실 보일러 22°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x16, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x16, 0x00]  # 안방 보일러 22°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x16, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x16, 0x00]  # 작은방 보일러 22°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x16, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x16, 0x00]  # 서재방 보일러 22°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x16, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x16, 0x00]  # 거실 보일러 22°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x16, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x16, 0x00]  # 안방 보일러 22°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x16, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x16, 0x00]  # 작은방 보일러 22°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x16, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x16, 0x00]  # 서재방 보일러 22°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x16, 0x01]
        - delay: 1s
                
  # 20°C~25°C 보일러 설정 버튼
  - platform: template
    name: "23_°C_All_Setting"
    on_press:
      then:
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x17, 0x00]  # 거실 보일러 23°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x17, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x17, 0x00]  # 안방 보일러 23°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x17, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x17, 0x00]  # 작은방 보일러 23°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x17, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x17, 0x00]  # 서재방 보일러 23°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x17, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x17, 0x00]  # 거실 보일러 23°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x17, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x17, 0x00]  # 안방 보일러 23°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x17, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x17, 0x00]  # 작은방 보일러 23°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x17, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x17, 0x00]  # 서재방 보일러 23°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x17, 0x01]
        - delay: 1s        
  # 20°C~25°C 보일러 설정 버튼
  - platform: template
    name: "24_°C_All_Setting"
    on_press:
      then:
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x18, 0x00]  # 거실 보일러 24°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x18, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x18, 0x00]  # 안방 보일러 24°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x18, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x18, 0x00]  # 작은방 보일러 24°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x18, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x18, 0x00]  # 서재방 보일러 24°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x18, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x18, 0x00]  # 거실 보일러 24°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x18, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x18, 0x00]  # 안방 보일러 24°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x18, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x18, 0x00]  # 작은방 보일러 24°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x18, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x18, 0x00]  # 서재방 보일러 24°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x18, 0x01]
        - delay: 1s        
  # 20°C~25°C 보일러 설정 버튼
  - platform: template
    name: "25_°C_All_Setting"
    on_press:
      then:
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x19, 0x00]  # 거실 보일러 25°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x19, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x19, 0x00]  # 안방 보일러 25°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x19, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x19, 0x00]  # 작은방 보일러 25°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x19, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x19, 0x00]  # 서재방 보일러 25°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x19, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x11, 0x19, 0x00]  # 거실 보일러 25°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x11, 0x19, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x12, 0x19, 0x00]  # 안방 보일러 25°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x12, 0x19, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x13, 0x19, 0x00]  # 작은방 보일러 25°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x13, 0x19, 0x01]
        - delay: 1s
        - uartex.write:
            data: [0x0b, 0x01, 0x18, 0x02, 0x45, 0x14, 0x19, 0x00]  # 서재방 보일러 25°C 설정
            ack: [0x0d, 0x01, 0x18, 0x04, 0x45, 0x14, 0x19, 0x01]
        - delay: 1s

#  2025_0216_1902_12
# ===========button:===========================================================
  # - platform: template
  #   name: "10_°C_All_Setting"
  #   on_press:
  #     then:
  #       - climate.control:  # 동작하지 않음
  #           id: Boiler_living_room
  #           target_temperature: 10°C
  #       - delay: 1s                
  #       - climate.control:
  #           id: Boiler_big_room
  #           target_temperature: 10°C
  #       - delay: 1s                
  #       - climate.control:
  #           id: Boiler_small_room
  #           target_temperature: 10°C
  #       - delay: 1s                
  #       - climate.control:
  #           id: Boiler_book_room
  #           target_temperature: 10°C
  #       - delay: 1s    
  #       - climate.control:
  #           id: Boiler_living_room
  #           target_temperature: 10°C
  #       - delay: 1s                
  #       - climate.control:
  #           id: Boiler_big_room
  #           target_temperature: 10°C
  #       - delay: 1s                
  #       - climate.control:
  #           id: Boiler_small_room
  #           target_temperature: 10°C
  #       - delay: 1s                
  #       - climate.control:
  #           id: Boiler_book_room
  #           target_temperature: 10°C
  #       - delay: 1s    
# --------------- climate: ------------------------------------------     
# switch: -------------------------------------------------------------
# 
# ============================================
# sensor:  # 20231226_1230_55
# backlight   20240110_1154_28
# ===============================
# 20231225_0022_52
# (구 현대 월패드 정보)
# ----전등--------
# 거실1 전등
# 켜기 요청 F7 0B 01 19 02 40 11 01 00 B6 EE
# 켜기 응답 F7 0B 01 19 04 40 11 01 01 B1 EE
# 끄기 요청 F7 0B 01 19 02 40 11 02 00 B5 EE
# 끄기 응답 F7 0B 01 19 04 40 11 02 02 B1 EE
# ​
# 거실2 전등 
# 켜기 요청 F7 0B 01 19 02 40 12 01 00 B5 EE
# 켜기 응답 F7 0B 01 19 04 40 12 01 01 B2 EE
# 끄기 요청 F7 0B 01 19 02 40 12 02 00 B6 EE
# 끄기 응답 F7 0B 01 19 04 40 12 02 02 B2 EE
# ​
# 소파3 전등 
# 켜기 요청 F7 0B 01 19 02 40 13 01 00 B4 EE
# 켜기 응답 F7 0B 01 19 04 40 13 01 01 B3 EE
# 끄기 요청 F7 0B 01 19 02 40 13 02 00 B7 EE
# 끄기 응답 F7 0B 01 19 04 40 13 02 02 B3 EE
# ​
# 앞불4 전등 
# 켜기 요청 F7 0B 01 19 02 40 14 01 00 B3 EE
# 켜기 응답 F7 0B 01 19 04 40 14 01 01 B4 EE
# 끄기 요청 F7 0B 01 19 02 40 14 02 00 B0 EE
# 끄기 응답 F7 0B 01 19 04 40 14 02 02 B4 EE
# ​
# 복도5 전등
# 켜기 요청 F7 0B 01 19 02 40 15 01 00 B2 EE
# 켜기 응답 F7 0B 01 19 04 40 15 01 01 B5 EE
# 끄기 요청 F7 0B 01 19 02 40 15 02 00 B1 EE
# 끄기 응답 F7 0B 01 19 04 40 15 02 02 B5 EE
# --------------------------------------------------
# ---------  보일러 -------------
# 거실 보일러
# 켜기 요청 F7 0B 01 18 02 46 11 01 00 B1 EE
# 켜기 응답 F7 0D 01 18 04 46 11 01 01 17 15 B2 EE
# 끄기 요청 F7 0B 01 18 02 46 11 04 00 B4 EE
# 끄기 응답 F7 0D 01 18 04 46 11 04 04 17 15 B2 EE
# 7도  요청 F7 0B 01 18 02 45 11 07 00 B4 EE
# 7도  응답 F7 0E 01 00 00 00 10 01 02 00 60 E9 FF
# ---------------
# 안방 보일러
# 켜기 요청 F7 0B 01 18 02 46 12 01 00 B2 EE
# 켜기 응답 F7 0D 01 18 04 46 12 01 01 17 0F AB EE
# 끄기 요청 F7 0B 01 18 02 46 12 04 00 B7 EE
# 끄기 응답 F7 0D 01 18 04 46 12 04 04 17 0F AB EE
# 7도  요청 F7 0B 01 18 02 45 12 07 00 B7 EE
# 7도  응답 F7 0D 01 18 04 45 12 07 01 17 07 A6 EE
# ---------
# 작은방 보일러
# 켜기 요청 F7 0B 01 18 02 46 13 01 00 B3 EE
# 켜기 응답 F7 0D 01 18 04 46 13 01 01 16 07 A3 EE
# 끄기 요청 F7 0B 01 18 02 46 13 04 00 B6 EE
# 끄기 응답 F7 0D 01 18 04 46 13 04 04 16 07 A3 EE
# 7도  요청 F7 0B 01 18 02 45 13 07 00 B6 EE
# 7도  응답 F7 0D 01 18 04 45 13 07 01 16 07 A6 EE
# ---------
# 서재 보일러
# 켜기 요청 F7 0B 01 18 02 46 14 01 00 B4 EE
# 켜기 응답 F7 0D 01 18 04 46 14 01 01 16 07 A4 EE
# 끄기 요청 F7 0B 01 18 02 46 14 04 00 B1 EE
# 끄기 응답 0D 01 18 04 46 14 04 04 16 07 A4 EE
# 7도  요청 F7 0B 01 18 02 45 14 07 00 B1 EE
# 7도  응답 F7 0D 01 18 04 45 14 07 01 16 07 A1 EE
# =========================== 변환 ==========================
# 거실1전등	on	요청		0xF7,	0x0b,	0x01,	0x19,	0x02,	0x40,	0x11,	0x01,	0x00,	0xB6,	0xEE,	 	 
# 거실1전등	on	응답		0xF7,	0x0b,	0x01,	0x19,	0x04,	0x40,	0x11,	0x01,	0x01,	0xB1,	0xEE,	 	 
# 거실1전등	off	요청		0xF7,	0x0b,	0x01,	0x19,	0x02,	0x40,	0x11,	0x02,	0x00,	0xB5,	0xEE,	 	 
# 거실1전등	off	응답		0xF7,	0x0b,	0x01,	0x19,	0x04,	0x40,	0x11,	0x02,	0x02,	0xB1,	0xEE,	 	 

# 거실2전등	on	요청		0xF7,	0x0b,	0x01,	0x19,	0x02,	0x40,	0x12,	0x01,	0x00,	0xB5,	0xEE,	 	 
# 거실2전등	on	응답		0xF7,	0x0b,	0x01,	0x19,	0x04,	0x40,	0x12,	0x01,	0x01,	0xB2,	0xEE,	 	 
# 거실2전등	off	요청		0xF7,	0x0b,	0x01,	0x19,	0x02,	0x40,	0x12,	0x02,	0x00,	0xB6,	0xEE,	 	 
# 거실2전등	off	응답		0xF7,	0x0b,	0x01,	0x19,	0x04,	0x40,	0x12,	0x02,	0x02,	0xB2,	0xEE,	 	 

# 소파3전등	on	요청		0xF7,	0x0b,	0x01,	0x19,	0x02,	0x40,	0x13,	0x01,	0x00,	0xB4,	0xEE,	 	 
# 소파3전등	on	응답		0xF7,	0x0b,	0x01,	0x19,	0x04,	0x40,	0x13,	0x01,	0x01,	0xB3,	0xEE,	 	 
# 소파3전등	off	요청		0xF7,	0x0b,	0x01,	0x19,	0x02,	0x40,	0x13,	0x02,	0x00,	0xB7,	0xEE,	 	 
# 소파3전등	off	응답		0xF7,	0x0b,	0x01,	0x19,	0x04,	0x40,	0x13,	0x02,	0x02,	0xB3,	0xEE,	 	 

# 앞불4전등	on	요청		0xF7,	0x0b,	0x01,	0x19,	0x02,	0x40,	0x14,	0x01,	0x00,	0xB3,	0xEE,	 	 
# 앞불4전등	on	응답		0xF7,	0x0b,	0x01,	0x19,	0x04,	0x40,	0x14,	0x01,	0x01,	0xB4,	0xEE,	 	 
# 앞불4전등	off	요청		0xF7,	0x0b,	0x01,	0x19,	0x02,	0x40,	0x14,	0x02,	0x00,	0xB0,	0xEE,	 	 
# 앞불4전등	off	응답		0xF7,	0x0b,	0x01,	0x19,	0x04,	0x40,	0x14,	0x02,	0x02,	0xB4,	0xEE,	 	 

# 복도등	on	요청		0xF7,	0x0b,	0x01,	0x19,	0x02,	0x40,	0x15,	0x01,	0x00,	0xB2,	0xEE,	 	 
# 복도등	on	응답		0xF7,	0x0b,	0x01,	0x19,	0x04,	0x40,	0x15,	0x01,	0x01,	0xB5,	0xEE,	 	 
# 복도등	off	요청		0xF7,	0x0b,	0x01,	0x19,	0x02,	0x40,	0x15,	0x02,	0x00,	0xB1,	0xEE,	 	 
# 복도등	off	응답		0xF7,	0x0b,	0x01,	0x19,	0x04,	0x40,	0x15,	0x02,	0x02,	0xB5,	0xEE,	 	 
#---------------------------------------------
# 거실보일러	off요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x46,	0x11,	0x04,	0x00,	0xB4,	0xEE,	 	 
# 거실보일러	off응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x46,	0x11,	0x04,	0x04,	0x14,	0x16,	0xB2,	0xEE,
# 거실보일러	7	요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x45,	0x11,	0x07,	0x00,	0xB4,	0xEE,	 	 
# 거실보일러	7	응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x45,	0x11,	0x07,	0x01,	0x14,	0x7,	0xA6,	0xEE,
# 거실보일러	8	요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x45,	0x11,	0x08,	0x00,	0xBB,	0xEE,	 	 
# 거실보일러	8	응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x45,	0x11,	0x08,	0x01,	0x14,	0x8,	0xA6,	0xEE,

# 안방보일러	on요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x46,	0x12,	0x01,	0x00,	0xB2,	0xEE,	 	 
# 안방보일러	on응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x46,	0x12,	0x01,	0x01,	0x15,	0x16,	0xB0,	0xEE,
# 안방보일러	off요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x46,	0x12,	0x04,	0x00,	0xB7,	0xEE,	 	 
# 안방보일러	off응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x46,	0x12,	0x04,	0x04,	0x15,	0x16,	0xB0,	0xEE,
# 안방보일러	7	요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x45,	0x12,	0x07,	0x00,	0xB7,	0xEE,	 	 
# 안방보일러	7	응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x45,	0x12,	0x07,	0x01,	0x15,	0x7,	0xA4,	0xEE,
# 안방보일러	8	요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x45,	0x12,	0x08,	0x00,	0xB8,	0xEE,	 	 
# 안방보일러	8	응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x45,	0x12,	0x08,	0x01,	0x15,	0x8,	0xA4,	0xEE,

# 작은방보일러	on요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x46,	0x13,	0x01,	0x00,	0xB3,	0xEE,	 	 
# 작은방보일러	on응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x46,	0x13,	0x01,	0x01,	0x13,	0x16,	0xB7,	0xEE,
# 작은방보일러	off요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x46,	0x13,	0x04,	0x00,	0xB6,	0xEE,	 	 
# 작은방보일러	off응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x46,	0x13,	0x04,	0x04,	0x13,	0x16,	0xB7,	0xEE,
# 작은방보일러	7	요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x45,	0x13,	0x07,	0x00,	0xB6,	0xEE,	 	 
# 작은방보일러	7	응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x45,	0x13,	0x07,	0x01,	0x13,	0x7,	0xA3,	0xEE,
# 작은방보일러	8	요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x45,	0x13,	0x08,	0x00,	0xB9,	0xEE,	 	 
# 작은방보일러	8	응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x45,	0x13,	0x08,	0x01,	0x13,	0x8,	0xA3,	0xEE,

# 서재보일러	on요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x46,	0x14,	0x01,	0x00,	0xB4,	0xEE,	 	 
# 서재보일러	on응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x46,	0x14,	0x01,	0x01,	0x17,	0x17,	0xB5,	0xEE,
# 서재보일러	off요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x46,	0x14,	0x04,	0x00,	0xB1,	0xEE,	 	 
# 서재보일러	off응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x46,	0x14,	0x04,	0x04,	0x17,	0x17,	0xB5,	0xEE,
# 서재보일러	7	요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x45,	0x14,	0x07,	0x00,	0xB1,	0xEE,	 	 
# 서재보일러	7	응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x45,	0x14,	0x07,	0x01,	0x17,	0x7,	0xA0,	0xEE,
# 서재보일러	8	요청		0xF7,	0x0b,	0x01,	0x18,	0x02,	0x45,	0x14,	0x08,	0x00,	0xBE,	0xEE,	 	 
# 서재보일러	8	응답		0xF7,	0x0d,	0x01,	0x18,	0x04,	0x45,	0x14,	0x08,	0x01,	0x17,	0x8,	0xA0,	0xEE,
#---------------------------------------------
 
# 패킷정보 1,2,3,4,5,6,,7,8,9,10,11,12,13 의 정보
# 1,시작 패킷
# 2,조명 패킷은 명령/응답 모두 0b와 보일러 명령0b 응답0d 
# 3,패킷의길이(설치된 조명개수 +10)
# 4, 패킷의길이(설치된 조명개수 +10)
# 5,명령패킷 2,응답패킷4
# 6,전등40,보일러45 46
# 7,방번호/장소(방+조명위치) 11,12,13,14,15
# 8,on/off(01:on,02:off) or 온도
# 9,요청(00),켜기응답(01),끄기응답(02)
# 10,xor의 checksum
# 11,마지막 종료
# 12,xor의 checksum
# 13,마지막 종료
# 2025_0108_1535_24
# =======================================    # 
# file:///G:/ew11/information_%EC%A0%95%EB%B3%B4/Thermostat%20Protocol_(Thermostat)_231110_example.pdf
# https://github.com/greays/esphome?tab=readme-ov-file
# 기준으로 작성 횔용 수정 합니다
# =====================================  2025_0216_1903_27

    
